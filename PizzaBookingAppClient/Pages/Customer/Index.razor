@page "/"

<PageTitle>PixelPizza</PageTitle>

<Carousel/>

<ProductBoard products="products" />

@code {
	[Parameter]
	[SupplyParameterFromQuery(Name ="q")]
	public string Query { get; set; } = string.Empty;
	[Parameter]
	[SupplyParameterFromQuery(Name = "cate")]
	public string CategoryQuery { get; set; } = string.Empty;

	public List<Product>? products { get; set; } = null;

	protected override async Task OnParametersSetAsync()
	{
		products = await _httpService.Get<List<Product>>
		($"/Product/Fillter/?name={Query}&cate={CategoryQuery}");

		await base.OnParametersSetAsync();
	}
}