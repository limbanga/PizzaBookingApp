@* Account Drawer *@
<MudDrawer @bind-Open="MainLayout._drawerOpenAccount" Elevation="1"
           Anchor="Anchor.End" Variant="@DrawerVariant.Temporary"
           Width="300px"
           Class="pa-4"
           Style="background: var(--mud-palette-background);">

    <MudDrawerHeader>
        <MudText Typo="Typo.h6" Color="Color.Primary">Hi @role</MudText>
    </MudDrawerHeader>

    <MudSpacer />

    <MudButton OnClick="LogoutAsync"
               Color="Color.Primary"
               Variant="Variant.Outlined">
        Logout
    </MudButton>

</MudDrawer>
@code {
    [CascadingParameter]
    public MainLayout MainLayout { get; set; } = null!;
    private string role = string.Empty;

    protected override async Task OnInitializedAsync()
    {
        role = await _authService.GetClaimValue("role");
    }

    private async Task LogoutAsync()
    {
        await _authService.LogoutAsync();
        _snackbar.Add("Loged out successfullt", Severity.Success);
        MainLayout._drawerOpenAccount = false;
    }
}
